<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

    <title>Project 1</title>
<style>
 .Tictactoe {
   width: 75px;
   height: 75px;
   text-align: center;
   font-size: 30pt;
   font-weight: bold;
 }
 .input-prepend span.pre_text {width:55px}
.input-prepend .span1{width:93px}
.input-prepend {margin-bottom:10px}
.input-append .win_times {background:#fff; width:101px}
.input-append .win_text {width:52px}

</style>

<script>
  var oWins;
  var xWins;
  var ties;

 function start(){
  for (var j=1;j<=9; j=j+1) {
   reset(j);
  }
  document.turn="X";
  document.winner=null;
  announce("Turn: " + document.turn);
 }
 function announce(play) {
  document.getElementById("player").innerText = play;
 }

 function game(Tictactoe) {
  if (document.winner!=null){
    announce(document.winner + " won.");

  } else if (Tictactoe.innerText==""){
    Tictactoe.innerText=document.turn;
    nextplayer();
  } else {

    }
  }

 function nextplayer(){
  if (winner(document.turn)) {
    announce("Player " + document.turn + " wins!");
     document.winner=document.turn;

     if (document.winner=="x"){
       xWins++;
       $('#x_win').text(xWins)
     } else if (document.winner=="o"){
       oWins++;
       $('#o_win').text(oWins)
     } else {
       ties++;
       $('#tie_s').text(ties)
     }

  } else if(document.turn=="X") {
     document.turn="O";
     announce("It's " + document.turn + "'s turn!");
  } else {
     document.turn="X";
     announce("It's " + document.turn + "'s turn!");
    }
 }
 function CheckforTie(){
    for(var i=1;i<10;i++){
        if(getBox(i)=="")
        return false;
    }
        return true;
}
 function winner(move) {
   var result =false;
  if (rules(1, 2, 3, move) || rules(4, 5, 6, move) || rules(7, 8, 9, move) || rules(1, 4, 7, move) || rules(2, 5, 8, move) || rules(3, 6, 9, move) || rules(1, 5, 9, move) || rules(3, 5, 7, move)) {
  result = true;
  }
  return result;
  }

 function rules(m,y,z,move) {
  var result=false;
  if (rulesbox(m) == move && rulesbox(y) == move && rulesbox(z) == move) {
   result = true;
  }
  return result;
 }
 function rulesbox(number) {
  return document.getElementById("a" + number).innerText;
 }
 function reset(number){
  document.getElementById("a" + number).innerText="";
 }
</script>
</head>
<body onload="start()">
    <h2 style="text-align:center;"> Project 1: Tic-Tac-Toe </h2>
    <h5 style="text-align:center;"> Tanaja Lloyd & Hoiyan Chan </h4>

      <center>
    <button onclick="start()">Start</button><br/>
    <button onclick="start()">Reset</button>


    <div class="span3" align="center">
      <div class="input-prepend input-append">
        <span class="add-on win_text">O won</span><strong id="o_win" class="win_times add-on">0</strong><span class="add-on">time(s)</span>
      </div>
      <div class="input-prepend input-append">
        <span class="add-on win_text">X won</span><strong id="x_win" class="win_times add-on">0</strong><span class="add-on">time(s)</span>
      </div>
      <div class="input-prepend input-append">
        <span class="add-on win_text">Tie</span><strong id="tie_s" class="win_times add-on">0</strong><span class="add-on">time(s)</span>
      </div>
    </div>

    <div id = "player" ></div>
  </center>

    <table align="center" border="4">
        <tr>
         <td id="a1" class="Tictactoe" style="width:75px; height:75px" onclick="game(this);"></td>
         <td id="a2" class="Tictactoe" style="width:75px; height:75px" onclick="game(this);"></td>
         <td id="a3" class="Tictactoe" style="width:75px; height:75px" onclick="game(this);"></td>

        </tr>
        <tr>
         <td id="a4" class="Tictactoe" style="width:75px; height:75px" onclick="game(this);"></td>
         <td id="a5" class="Tictactoe" style="width:75px; height:75px" onclick="game(this);"></td>
         <td id="a6" class="Tictactoe" style="width:75px; height:75px" onclick="game(this);"></td>

        </tr>
        <tr>
         <td id="a7" class="Tictactoe" style="width:75px; height:75px" onclick="game(this);"></td>
         <td id="a8" class="Tictactoe" style="width:75px; height:75px" onclick="game(this);"></td>
         <td id="a9" class="Tictactoe" style="width:75px; height:75px" onclick="game(this);"></td>
       </tr>

   <!-- </table>
    <table border="2">
        <tr>
            <td>X wins</td>
            <td style="width: 25px;" onclick="Xwin()"></td>
        </tr>
        <tr>
            <td>O wins</td>
            <td style="width: 25px;" onclick="Xwin()"></td>
        </tr>
    </table> -->
</body>
</html>
